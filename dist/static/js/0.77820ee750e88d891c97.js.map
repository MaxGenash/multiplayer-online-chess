{"version":3,"sources":["webpack:///static/js/0.77820ee750e88d891c97.js","webpack:///./src/components/user/register/index.vue","webpack:///index.vue","webpack:///./src/components/user/register/template.html"],"names":["webpackJsonp","220","module","exports","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","default","__vue_options__","options","template","computed","Object","keys","forEach","key","246","_interopRequireDefault","obj","defineProperty","value","_user2","_user3","_actions","data","_user","age","sexo","password","passwordRepit","firstName","lastName","username","editPassword","formValid","user","getUser","error","formValidMsg","success","vuex","actions","setUser","methods","validPassword","this","length","errorMsgPasswrd","repitPasswordValidate","validUser","registerUser","signin","then","response","_id","window","location","reload","$route","router","go","i","errors","message","created","360"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAAC,GAAAC,EACAC,IACAF,GAAAD,EAAA,KACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAK,aAAAN,EAAAC,QAAAD,EAAAC,QAAAM,QACA,IAAAC,GAAA,kBAAAR,GAAAC,QAAAD,EAAAC,QAAAQ,UAAAT,EAAAC,QAAAQ,YAAoHT,EAAAC,OACpHG,KACAI,EAAAE,SAAAN,GAEAI,EAAAG,WAAAH,EAAAG,aACAC,OAAAC,KAAAR,GAAAS,QAAA,SAAAC,GACA,GAAAf,GAAAK,EAAAU,EACAP,GAAAG,SAAAI,GAAA,WAA6C,MAAAf,ODWvCgB,IACA,SAAUhB,EAAQC,EAASC,GAEhC,YAYA,SAASe,GAAuBC,GAAO,MAAOA,IAAOA,EAAIZ,WAAaY,GAAQX,QAASW,GAVvFN,OAAOO,eAAelB,EAAS,cAC7BmB,OAAO,GE5BV,IAAAC,GAAAnB,EAAA,GFiCKoB,EAASL,EAAuBI,GE/BrCE,EAAArB,EAAA,GFqCCD,GAAQM,SACNG,SAAUR,EEpCb,KFqCGsB,KAAM,WACJ,GAAIC,IACFC,IEpCP,KFqCOC,KEpCP,OFqCOC,SEpCP,GFqCOC,cEpCP,GFqCOC,UEpCP,GFqCOC,SEpCP,GFqCOC,SEnCP,GFqCK,QACEC,cEpCP,EFqCOC,WEpCP,EFqCOC,KAAMb,EAAOf,QAAQ6B,WEpC5BX,EFqCOY,MEpCP,GFqCOC,cACEV,UACEW,QEpCX,KFqCWF,MEnCX,qBFqCSR,eACEU,QEpCX,KFqCWF,MEnCX,uBFqCSF,MACEI,QEpCX,KFqCWF,MEjCX,2CFuCGG,MACEC,SElCLC,QAAAnB,EAAAmB,UFsCGC,SACEC,cAAe,WACb,OAAKC,KAAKZ,iBAGNY,KAAKV,KAAKP,SAASkB,OAAS,KAC9BD,KAAKP,aAAaS,gBErC3B,2BACA,KFyCKC,sBAAuB,WACrB,OAAKH,KAAKZ,cAGNY,KAAKV,KAAKP,WAAaiB,KAAKV,KAAKN,eAKvCoB,UAAW,WACT,QAAIJ,KAAKV,KAAKH,SAASc,OAAS,GAAKD,KAAKV,KAAKH,SAASc,OAAS,KAKnEI,aAAc,WACPL,KAAKI,aAAgBJ,KAAKG,yBAA4BH,KAAKD,kBAGhEC,KAAKR,MErCZ,UFsCOf,EAAOf,QAAQ4C,OAAON,KAAMA,KAAKV,MAAMiB,KAAK,SAAUC,GACpDR,KAAKR,MErCd,WFsCaQ,KAAKV,KAAKmB,IACZC,OAAOC,SErClBC,SFuCWZ,KAAKa,OAAOC,OAAOC,GAAGf,KAAKV,KAAKmB,IAAM,QAAUT,KAAKV,KAAKH,SErCrE,MFuCU,SAAUqB,GACX,IAAK,GAAIQ,KAAKR,GAAS7B,KAAKsC,OAC1BjB,KAAKR,MAAQgB,EAAS7B,KAAKsC,OAAOD,GErC7CE,aF0CGC,QAAS,WACPnB,KAAKV,KAAKP,SErCf,MF2CMqC,IACA,SAAUjE,EAAQC,GGpIxBD,EAAAC,QAAA","file":"static/js/0.77820ee750e88d891c97.js","sourcesContent":["webpackJsonp([0,4],{\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(246)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _user2 = __webpack_require__(5);\n\t\n\tvar _user3 = _interopRequireDefault(_user2);\n\t\n\tvar _actions = __webpack_require__(39);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  template: __webpack_require__(360),\n\t  data: function data() {\n\t    var _user = {\n\t      age: null,\n\t      sexo: 'male',\n\t      password: '',\n\t      passwordRepit: '',\n\t      firstName: '',\n\t      lastName: '',\n\t      username: ''\n\t    };\n\t    return {\n\t      editPassword: true,\n\t      formValid: false,\n\t      user: _user3.default.getUser() || _user,\n\t      error: '',\n\t      formValidMsg: {\n\t        password: {\n\t          success: 'Ok',\n\t          error: 'Придумайте пароль'\n\t        },\n\t        passwordRepit: {\n\t          success: 'Ок',\n\t          error: 'Пароли не совпадают'\n\t        },\n\t        user: {\n\t          success: 'Ок',\n\t          error: 'Пароль должен быть длиннее 4 сиволов'\n\t        }\n\t      }\n\t    };\n\t  },\n\t\n\t  vuex: {\n\t    actions: {\n\t      setUser: _actions.setUser\n\t    }\n\t  },\n\t  methods: {\n\t    validPassword: function validPassword() {\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password.length < 5) {\n\t        this.formValidMsg.errorMsgPasswrd = 'Пароль слишком короткий';\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    repitPasswordValidate: function repitPasswordValidate() {\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password !== this.user.passwordRepit) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    validUser: function validUser() {\n\t      if (this.user.username.length < 4 || this.user.username.length > 10) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    registerUser: function registerUser() {\n\t      if (!this.validUser() || !this.repitPasswordValidate() || !this.validPassword()) {\n\t        return;\n\t      }\n\t      this.error = 'process';\n\t      _user3.default.signin(this, this.user).then(function (response) {\n\t        this.error = 'redirect';\n\t        if (this.user._id) {\n\t          window.location.reload();\n\t        } else {\n\t          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/');\n\t        }\n\t      }, function (response) {\n\t        for (var i in response.data.errors) {\n\t          this.error = response.data.errors[i].message;\n\t        }\n\t      });\n\t    }\n\t  },\n\t  created: function created() {\n\t    this.user.password = '';\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 360:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"<div class=row> <h3 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h3> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input name=usuario :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser()> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\"> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\"> <md-input name=last_name :value.sync=user.firstName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.firstName\\\") }} </md-input> <md-input name=last_name :value.sync=user.lastName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.lastName\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class=\\\"row demo\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword()> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate()> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> <div class=row> <p class=flat-text-header>Пол</p> <md-radio-group group=firstNameValid class=\\\"col s6 m6 l6\\\"> <md-radio :value.sync=user.sexo radio-value=f class=with-gap> {{ $t(\\\"register.femen\\\") }} </md-radio> <md-radio :value.sync=user.sexo radio-value=m class=with-gap> {{ $t(\\\"register.mascul\\\") }} </md-radio> </md-radio-group> <md-input :value.sync=user.age type=number :number=true class=\\\"col s6 m6 l6\\\" :error-msg=\\\"'error'\\\" :valid=\\\"user.age < 100 && user.age > 3\\\"> {{ $t(\\\"register.age\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>cloud</md-icon> {{ [user._id?'Editar':$t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> <md-icon right>cloud</md-icon> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\n            right: 10px !important;\\n            left: 10px;\\n            width: 100%;\\n        }\\n\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\n            display: block;\\n            content: \\\"\\\";\\n            position: absolute;\\n            top: 57px;\\n            opacity: 0;\\n            transition: .2s opacity ease-out, .2s color ease-out;\\n        } </style> </div>\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.77820ee750e88d891c97.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/index.vue\n// module id = 220\n// module chunks = 0","<script>\nimport UserService from '../../../services/user'\nimport { setUser } from '../../../vuex/actions'\nexport default {\n  template: require('./template.html'),\n  data () {\n    var _user = {\n      age: null,\n      sexo: 'male',\n      password: '',\n      passwordRepit: '',\n      firstName: '',\n      lastName: '',\n      username: ''\n    }\n    return {\n      editPassword: true,\n      formValid: false,\n      user: UserService.getUser() || _user,\n      error: '',\n      formValidMsg: {\n        password: {\n          success: 'Ok',\n          error: 'Придумайте пароль'\n        },\n        passwordRepit: {\n          success: 'Ок',\n          error: 'Пароли не совпадают'\n        },\n        user: {\n          success: 'Ок',\n          error: 'Пароль должен быть длиннее 4 сиволов'\n        }\n      }\n    }\n  },\n  vuex: {\n    actions: {\n      setUser\n    }\n  },\n  methods: {\n    validPassword () {\n      if (!this.editPassword) {\n        return true\n      }\n      if (this.user.password.length < 5) {\n        this.formValidMsg.errorMsgPasswrd = 'Пароль слишком короткий'\n        return false\n      }\n      return true\n    },\n    repitPasswordValidate () {\n      if (!this.editPassword) {\n        return true\n      }\n      if (this.user.password !== this.user.passwordRepit) {\n        return false\n      }\n      return true\n    },\n    validUser () {\n      if (this.user.username.length < 4 || this.user.username.length > 10) {\n        return false\n      }\n      return true\n    },\n    registerUser () {\n      if (!this.validUser() || !this.repitPasswordValidate() || !this.validPassword()) {\n        return\n      }\n      this.error = 'process'\n      UserService.signin(this, this.user).then(function (response) {\n        this.error = 'redirect'\n        if (this.user._id) {\n          window.location.reload()\n        } else {\n          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/')\n        }\n      }, function (response) {\n        for (var i in response.data.errors) {\n          this.error = response.data.errors[i].message\n        }\n      })\n    }\n  },\n  created () {\n    this.user.password = ''\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// index.vue?4f9bcadc","module.exports = \"<div class=row> <h3 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h3> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input name=usuario :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser()> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\"> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\"> <md-input name=last_name :value.sync=user.firstName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.firstName\\\") }} </md-input> <md-input name=last_name :value.sync=user.lastName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.lastName\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class=\\\"row demo\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword()> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate()> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> <div class=row> <p class=flat-text-header>Пол</p> <md-radio-group group=firstNameValid class=\\\"col s6 m6 l6\\\"> <md-radio :value.sync=user.sexo radio-value=f class=with-gap> {{ $t(\\\"register.femen\\\") }} </md-radio> <md-radio :value.sync=user.sexo radio-value=m class=with-gap> {{ $t(\\\"register.mascul\\\") }} </md-radio> </md-radio-group> <md-input :value.sync=user.age type=number :number=true class=\\\"col s6 m6 l6\\\" :error-msg=\\\"'error'\\\" :valid=\\\"user.age < 100 && user.age > 3\\\"> {{ $t(\\\"register.age\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>cloud</md-icon> {{ [user._id?'Editar':$t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> <md-icon right>cloud</md-icon> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\n            right: 10px !important;\\n            left: 10px;\\n            width: 100%;\\n        }\\n\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\n            display: block;\\n            content: \\\"\\\";\\n            position: absolute;\\n            top: 57px;\\n            opacity: 0;\\n            transition: .2s opacity ease-out, .2s color ease-out;\\n        } </style> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/template.html\n// module id = 360\n// module chunks = 0"],"sourceRoot":""}
{"version":3,"sources":["webpack:///static/js/0.bef4c78475ae3a1f113b.js","webpack:///./src/components/user/register/index.vue","webpack:///index.vue","webpack:///./src/components/user/register/template.html"],"names":["webpackJsonp","221","module","exports","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","default","__vue_options__","options","template","computed","Object","keys","forEach","key","248","_interopRequireDefault","obj","defineProperty","value","_user2","_user3","_actions","data","_user","age","sexo","password","passwordRepit","firstName","lastName","username","editPassword","formValid","user","getUser","error","formValidMsg","success","vuex","actions","setUser","validPassword","this","length","errorMsgPasswrd","repitPasswordValidate","validUser","methods","registerUser","signin","then","response","_id","window","location","reload","$route","router","go","i","errors","message","created","362"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAAC,GAAAC,EACAC,IACAF,GAAAD,EAAA,KACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAK,aAAAN,EAAAC,QAAAD,EAAAC,QAAAM,QACA,IAAAC,GAAA,kBAAAR,GAAAC,QAAAD,EAAAC,QAAAQ,UAAAT,EAAAC,QAAAQ,YAAoHT,EAAAC,OACpHG,KACAI,EAAAE,SAAAN,GAEAI,EAAAG,WAAAH,EAAAG,aACAC,OAAAC,KAAAR,GAAAS,QAAA,SAAAC,GACA,GAAAf,GAAAK,EAAAU,EACAP,GAAAG,SAAAI,GAAA,WAA6C,MAAAf,ODWvCgB,IACA,SAAUhB,EAAQC,EAASC,GAEhC,YAYA,SAASe,GAAuBC,GAAO,MAAOA,IAAOA,EAAIZ,WAAaY,GAAQX,QAASW,GAVvFN,OAAOO,eAAelB,EAAS,cAC7BmB,OAAO,GE5BV,IAAAC,GAAAnB,EAAA,GFiCKoB,EAASL,EAAuBI,GE/BrCE,EAAArB,EAAA,GFqCCD,GAAQM,SACNG,SAAUR,EEpCb,KFqCGsB,KAAM,WACJ,GAAIC,IACFC,IEpCP,KFqCOC,KEpCP,OFqCOC,SEpCP,GFqCOC,cEpCP,GFqCOC,UEpCP,GFqCOC,SEpCP,GFqCOC,SEnCP,GFqCK,QACEC,cEpCP,EFqCOC,WEpCP,EFqCOC,KAAMb,EAAOf,QAAQ6B,WEpC5BX,EFqCOY,MEpCP,GFqCOC,cACEV,UACEW,QEpCX,KFqCWF,MEnCX,qBFqCSR,eACEU,QEpCX,KFqCWF,MEnCX,uBFqCSF,MACEI,QEpCX,KFqCWF,MEjCX,uCFuCGG,MACEC,SElCLC,QAAAnB,EAAAmB,UFsCG/B,UACEgC,cAAe,WACb,MAAKC,MAAKT,KAAKP,UACVgB,KAAKX,iBAGNW,KAAKT,KAAKP,SAASiB,OAAS,KAC9BD,KAAKN,aAAaQ,gBErC3B,2BACA,IANA,MF+CKC,sBAAuB,WACrB,MAAKH,MAAKT,KAAKP,UACVgB,KAAKX,cAGNW,KAAKT,KAAKP,WAAagB,KAAKT,KAAKN,cEzC5C,MF8CKmB,UAAW,WACT,MAAKJ,MAAKT,KAAKH,WACXY,KAAKT,KAAKH,SAASa,OAAS,GAAKD,KAAKT,KAAKH,SAASa,OAAS,IEtCxE,OF4CGI,SACEC,aAAc,WACPN,KAAKI,WAAcJ,KAAKG,uBAA0BH,KAAKD,gBAG5DC,KAAKP,MErCZ,UFsCOf,EAAOf,QAAQ4C,OAAOP,KAAMA,KAAKT,MAAMiB,KAAK,SAAUC,GACpDT,KAAKP,MErCd,WFsCaO,KAAKT,KAAKmB,IACZC,OAAOC,SErClBC,SFuCWb,KAAKc,OAAOC,OAAOC,GAAGhB,KAAKT,KAAKmB,IAAM,QAAUV,KAAKT,KAAKH,SErCrE,MFuCU,SAAUqB,GACX,IAAK,GAAIQ,KAAKR,GAAS7B,KAAKsC,OAC1BlB,KAAKP,MAAQgB,EAAS7B,KAAKsC,OAAOD,GErC7CE,aF0CGC,QAAS,WACPpB,KAAKT,KAAKP,SErCf,MF2CMqC,IACA,SAAUjE,EAAQC,GGzIxBD,EAAAC,QAAA","file":"static/js/0.bef4c78475ae3a1f113b.js","sourcesContent":["webpackJsonp([0,4],{\n\n/***/ 221:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(248)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _user2 = __webpack_require__(5);\n\t\n\tvar _user3 = _interopRequireDefault(_user2);\n\t\n\tvar _actions = __webpack_require__(39);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  template: __webpack_require__(362),\n\t  data: function data() {\n\t    var _user = {\n\t      age: null,\n\t      sexo: 'male',\n\t      password: '',\n\t      passwordRepit: '',\n\t      firstName: '',\n\t      lastName: '',\n\t      username: ''\n\t    };\n\t    return {\n\t      editPassword: true,\n\t      formValid: false,\n\t      user: _user3.default.getUser() || _user,\n\t      error: '',\n\t      formValidMsg: {\n\t        password: {\n\t          success: 'Ok',\n\t          error: 'Придумайте пароль'\n\t        },\n\t        passwordRepit: {\n\t          success: 'Ок',\n\t          error: 'Пароли не совпадают'\n\t        },\n\t        user: {\n\t          success: 'Ок',\n\t          error: 'Введите имя латинскими символами'\n\t        }\n\t      }\n\t    };\n\t  },\n\t\n\t  vuex: {\n\t    actions: {\n\t      setUser: _actions.setUser\n\t    }\n\t  },\n\t  computed: {\n\t    validPassword: function validPassword() {\n\t      if (!this.user.password) return null;\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password.length < 5) {\n\t        this.formValidMsg.errorMsgPasswrd = 'Пароль слишком короткий';\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    repitPasswordValidate: function repitPasswordValidate() {\n\t      if (!this.user.password) return null;\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password !== this.user.passwordRepit) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    validUser: function validUser() {\n\t      if (!this.user.username) return null;\n\t      if (this.user.username.length < 4 || this.user.username.length > 20) {\n\t        return false;\n\t      }\n\t      return true;\n\t    }\n\t  },\n\t  methods: {\n\t    registerUser: function registerUser() {\n\t      if (!this.validUser || !this.repitPasswordValidate || !this.validPassword) {\n\t        return;\n\t      }\n\t      this.error = 'process';\n\t      _user3.default.signin(this, this.user).then(function (response) {\n\t        this.error = 'redirect';\n\t        if (this.user._id) {\n\t          window.location.reload();\n\t        } else {\n\t          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/');\n\t        }\n\t      }, function (response) {\n\t        for (var i in response.data.errors) {\n\t          this.error = response.data.errors[i].message;\n\t        }\n\t      });\n\t    }\n\t  },\n\t  created: function created() {\n\t    this.user.password = '';\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 362:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"row container\\\"> <h4 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h4> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\"> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class=\\\"row demo\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>check</md-icon> {{ [user._id?'Editar':$t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6 cancel\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\r\\n            right: 10px !important;\\r\\n            left: 10px;\\r\\n            width: 100%;\\r\\n        }\\r\\n        .cancel{\\r\\n          background: #666\\r\\n        }\\r\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\r\\n            display: block;\\r\\n            content: \\\"\\\";\\r\\n            position: absolute;\\r\\n            top: 57px;\\r\\n            opacity: 0;\\r\\n            transition: .2s opacity ease-out, .2s color ease-out;\\r\\n        } </style> </div> \";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.bef4c78475ae3a1f113b.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/index.vue\n// module id = 221\n// module chunks = 0","<script>\r\nimport UserService from '../../../services/user'\r\nimport { setUser } from '../../../vuex/actions'\r\nexport default {\r\n  template: require('./template.html'),\r\n  data () {\r\n    var _user = {\r\n      age: null,\r\n      sexo: 'male',\r\n      password: '',\r\n      passwordRepit: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      username: ''\r\n    }\r\n    return {\r\n      editPassword: true,\r\n      formValid: false,\r\n      user: UserService.getUser() || _user,\r\n      error: '',\r\n      formValidMsg: {\r\n        password: {\r\n          success: 'Ok',\r\n          error: 'Придумайте пароль'\r\n        },\r\n        passwordRepit: {\r\n          success: 'Ок',\r\n          error: 'Пароли не совпадают'\r\n        },\r\n        user: {\r\n          success: 'Ок',\r\n          error: 'Введите имя латинскими символами'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  vuex: {\r\n    actions: {\r\n      setUser\r\n    }\r\n  },\r\n  computed: {\r\n    validPassword () {\r\n      if (!this.user.password) return null;\r\n      if (!this.editPassword) {\r\n        return true\r\n      }\r\n      if (this.user.password.length < 5) {\r\n        this.formValidMsg.errorMsgPasswrd = 'Пароль слишком короткий'\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    repitPasswordValidate () {\r\n      if (!this.user.password) return null;\r\n      if (!this.editPassword) {\r\n        return true\r\n      }\r\n      if (this.user.password !== this.user.passwordRepit) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    validUser () {\r\n      if (!this.user.username) return null;\r\n      if (this.user.username.length < 4 || this.user.username.length > 20) {\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n  },\r\n  methods: {\r\n    registerUser () {\r\n      if (!this.validUser || !this.repitPasswordValidate || !this.validPassword) {\r\n        return\r\n      }\r\n      this.error = 'process'\r\n      UserService.signin(this, this.user).then(function (response) {\r\n        this.error = 'redirect'\r\n        if (this.user._id) {\r\n          window.location.reload()\r\n        } else {\r\n          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/')\r\n        }\r\n      }, function (response) {\r\n        for (var i in response.data.errors) {\r\n          this.error = response.data.errors[i].message\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.user.password = ''\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?1ec222f6","module.exports = \"<div class=\\\"row container\\\"> <h4 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h4> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\"> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class=\\\"row demo\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>check</md-icon> {{ [user._id?'Editar':$t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6 cancel\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\r\\n            right: 10px !important;\\r\\n            left: 10px;\\r\\n            width: 100%;\\r\\n        }\\r\\n        .cancel{\\r\\n          background: #666\\r\\n        }\\r\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\r\\n            display: block;\\r\\n            content: \\\"\\\";\\r\\n            position: absolute;\\r\\n            top: 57px;\\r\\n            opacity: 0;\\r\\n            transition: .2s opacity ease-out, .2s color ease-out;\\r\\n        } </style> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/template.html\n// module id = 362\n// module chunks = 0"],"sourceRoot":""}